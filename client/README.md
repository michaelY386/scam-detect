# Client

Android client application

# Development Environment

1. Download and install Android Studio

https://developer.android.com/studio/index.html

2. Open the project folder called 'client' under 'scam' folder from Android Studio 

File -> New ->Import Project -> 'client' directory from local copy of repository

Wait while it syncs and processes. If any errors arise regarding whitespace just ignore or click OK.

Click "Install missing platforms if necessary". This may be slow.

3. Click the green arrow ('Run') on the top of the toolbar. This will begin running the application on an emulated Android device. We use a 'Nexus 5X' device running 'Android API 27'. It is best to create a new Android virtual device to provide a clean testing environment. 

Dismiss any "cold boot" messages on the emulated device.
If any "System UI not responding" messages areise on the emulated  device, click "Wait". This from the compiler taking too long.

Once the emulated device is opened, you can walkthough the various UI elements. First, the user must sleect the type of user:

* Reviewer
* Primary User
* Clear (for debugging purposes only!)

After selecting a user type, the app should navigate to the main activity where the user must accept the permissions.

From the main activity the user can view the history, add reviewers, and view settings.

Additionally, the emulator allows one to simulate a phone call though:

1. Click '...' button next to Android device
2. Click 'Phone' tab
3. Click 'Call Device'

The recording functionality should work and the transcription functionality will fail due to an expired token (usually we update the token when developing, eventually the token will be retrieved from the server).


## Main activity & class Specification
under app/java/edu.cmu.eps.scams
MainActivity.java    The main page of the application, shows the navigation bar and qrCode image
FirstTimeLogin.java   Create user information and stored in local database
FriendlistActivity.java    User contact list page
HistoryActivity.java     Blocked phone call history list page
ProfileActivity.java   Shows user profile
ScannerActivity.java   Opens a camera for scanning qrCode

under app/java/edu.cmu.eps.scams/logic/models
classes defining user information
methods to store information into local database

## Functions completed in client
1. Voice recording for phone calls
2. Text transformation from audio recording to transcript
3. QR code generation for each device
4. Camera access and scan qrBitmap (generated by qrString)
5. Local Storage using SQLite, these information 
    userType, userID(same as qrString)
6. The connectionlist maintained by friendlist in the local database
7. The historylist maintained by machine learning algorithm and the local database
    showing the phone number and time of the call
8. Session management for a new user and an experienced user,
   users are asked to choose their user type for the first time login


## Things need to be completed in client
1. A separate page designed for reviewers
2. Testing connections and integration on real android phones
3. Refining the general interface 
4. Displaying more specific data in profile page
5. Implement settings integration logic with mobile system permissions



